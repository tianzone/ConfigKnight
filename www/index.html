<!DOCTYPE html>
<html>
    <head>
        <title>Power by Tianz</title>
        <script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/axios.min.js"></script>
    </head>
    <body>
        <div id="main-view">
            <h1>Can you see me?</h1>
            <br>
            <p style="color: chocolate;">{{promptText}}</p>
            <br>
            <button v-on:click="ImcrementVal( '$event' )">{{btnVal}}</button>
        </div>

        <!-- The javascript part -->
        <script>
			var RequestGet = function( data, callbackFunc ){
				axios.get('/timer',{
					params: {
						interval: data
					}
				}).then(response=>{
					callbackFunc( response )
				}).catch(error=>{
					console.debug( 'Get error' + error )
				})
			}
            var vm = new Vue({
                el: "#main-view",
                data: {
                    promptText: "This's really very funning",
                    btnVal: 0
                },

                methods: {
                    ImcrementVal: function( e ){
                        this.btnVal++
                        console.log( 'Current Val: ' + this.btnVal )
						
						RequestGet( this.btnVal, this.getReqCbFunc )
                    },
					getReqCbFunc: function( response ){
						this.promptText = response.data
					}
                }
            })
        </script>
    </body>
</html>